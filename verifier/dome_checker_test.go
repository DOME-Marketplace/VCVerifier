package verifier

import (
	"net/http"
	"testing"

	"github.com/piprate/json-gold/ld"
	"github.com/trustbloc/vc-go/verifiable"
)

func TestT(t *testing.T) {
	fingerprint := "E6:0D:93:A5:62:B3:A3:34:24:3A:6E:65:42:77:CD:B6:A9:51:2A:CF:B2:A3:88:9C:8D:91:1A:69:E2:0C:2A:5D"

	var presentationOptions = []verifiable.PresentationOpt{
		verifiable.WithPresProofChecker(NewDomeJWTProofChecker(fingerprint)),
		verifiable.WithPresJSONLDDocumentLoader(ld.NewDefaultDocumentLoader(http.DefaultClient))}

	_, err := verifiable.ParsePresentation([]byte(getVPToken()),
		presentationOptions...)
	if err != nil {
		t.Fail()
	}
}

func getVPToken() string {
	return "eyJraWQiOiJkaWQ6a2V5OnpEbmFlcGJRa0xueXdYNEdIc25wVHVHUWtCSHRKNFVuR005N3RzN1h1TTI3M0wxaWgjekRuYWVwYlFrTG55d1g0R0hzbnBUdUdRa0JIdEo0VW5HTTk3dHM3WHVNMjczTDFpaCIsInR5cCI6IkpXVCIsImFsZyI6IkVTMjU2In0.eyJzdWIiOiJkaWQ6a2V5OnpEbmFlcGJRa0xueXdYNEdIc25wVHVHUWtCSHRKNFVuR005N3RzN1h1TTI3M0wxaWgiLCJuYmYiOjE3MTgwMTU0NTYsImlzcyI6ImRpZDprZXk6ekRuYWVwYlFrTG55d1g0R0hzbnBUdUdRa0JIdEo0VW5HTTk3dHM3WHVNMjczTDFpaCIsInZwIjp7IkBjb250ZXh0IjpbImh0dHBzOi8vd3d3LnczLm9yZy8yMDE4L2NyZWRlbnRpYWxzL3YxIl0sImhvbGRlciI6ImRpZDprZXk6ekRuYWVwYlFrTG55d1g0R0hzbnBUdUdRa0JIdEo0VW5HTTk3dHM3WHVNMjczTDFpaCIsImlkIjoidXJuOnV1aWQ6NDFhY2FkYTMtNjdiNC00OTRlLWE2ZTMtZTA5NjY0NDlmMjVkIiwidHlwZSI6WyJWZXJpZmlhYmxlUHJlc2VudGF0aW9uIl0sInZlcmlmaWFibGVDcmVkZW50aWFsIjpbImV5SmhiR2NpT2lKU1V6STFOaUlzSW1OMGVTSTZJbXB6YjI0aUxDSnJhV1FpT2lKTlNVaFJUVWxITTNCSlJ6Qk5TVWQ0VFZOSmQwbEJXVVJXVVZGRVJFSnNSVk5WWkVwV1JWWk5TVVpTVkVsRlJrVldhMFpQVVRCV1JVbEZUa0pKUldONFRWSkpkMFZCV1VSV1VWRkdSWGRzUTA1RVl6Qk9SR014VG1wQmVFdDZRWEJDWjA1V1FrRnpUVWxyVWtwU01HeFZVbFYzWjFaR1RXZFJNRlpUVmtWc1IxTlZUa0pXUld4UVZHbENRbFpXVWtsVU1VcEtWa1pyZUV0RVFXMUNaMDVXUWtGdlRVZ3dVa3BTTUd4VlVsVjNaMVF3TkdkV1JrcFdWVEZTUmxKRFFsUlNWa3BYVTFWT1JsVjVRbFJVUmxWNFJYcEJVa0puVGxaQ1FXTk5RMnhhYUdKSGVHaGFSemx6WVZkUmVFTjZRVXBDWjA1V1FrRlpWRUZyVmxSQmFGRXhMM3BrTTJkc2VUbDRTMmRSVkZFM2JETlhPRVJuUlVaVGNYYzlQU0lzSW5nMWRDTlRNalUySWpvaU5XY3lWSEJYUzNwdmVsRnJUMjAxYkZGdVprNTBjV3hTUzNNdGVXODBhV05xV2tWaFlXVkpUVXRzTUNJc0luZzFZeUk2V3lKTlNVbEhUM3BEUTBKVFQyZEJkMGxDUVdkSlZVNW1PRE5rTkVwamRtTlRiMFZGTUU4MVpERjJRVFJDUWxWeGMzZEVVVmxLUzI5YVNXaDJZMDVCVVVWT1FsRkJkMmRpUlhoSmFrRm5RbWRPVmtKQlRVMUhWVkpLVWpCc1ZWSlZkMmRXUmsxblVWVlNWMUZWTlVSU1ZWRm5VVEJGWjFKNlJYaEZha0ZSUW1kT1ZrSkJWVlJEVlVrd1RucFJNRTU2VlRKTlJFVnlUVU5yUjBFeFZVVkRkM2RwVWtWc1NGTldVa1pVUTBKVlZYbENSRkpXU2xWVFZWcEtVVEJHVlZOVk9VOUpSVVpXVmtWb1VGVnJiRlZYVkVWdlRVTlpSMEV4VlVWRFozZG1Va1ZzU0ZOV1VrWlVRMEpRVkdsQ1ZWVnNWbFJXUlZaRlNVWk9SbFZzV2twUk1GWlVTVVpPVFZaVVJWUk5Ra1ZIUVRGVlJVSjNkMHRXYlVaellrZEdhMkl5ZUhCYVJFVk1UVUZyUjBFeFZVVkNhRTFEVWxaTmQwaG9ZMDVOYWxGM1RsUkplRTFFYTNwTlZFRjZWMmhqVGsxcVkzZE9WRWw0VFVScmVrMVVRWGxYYWtOQ2RYcEZaRTFDYzBkQk1WVkZRWGQzVlU1VVdURk9hbFV5VGxSYVVVbEZjR3hqTTFaNlNVWktNV0ZZYjNoSFJFRlhRbWRPVmtKQlZWUkVNR3hGVVRCV1ZFeFVWVEpPVkZreFRtcFZNbFZFUlU5TlFYZEhRVEZWUlV0bmQwWlRhMVpVVmxaTmVFUlVRVXhDWjA1V1FrRlJUVUpHU2xaVFZtOTRTSHBCWkVKblRsWkNRWE5OUm10U1VGUlZWV2RSTTBwc1drZFdkV1JIYkdoaVEwSktZek5PTVZwWVNYaEhSRUZYUW1kT1ZrSkhSVTFFTVZwQ1ZrVldWRXhXUlhkTlJFRjNUVVJCZDFOcVJWcE5RbU5IUVRGVlJVTm5kMUZTUlRsT1VsTkNUbGxZU25KYVdGSjNZa2RHYWxwVVJVeE5RV3RIUVRGVlJVSm9UVU5TVmsxM1oyZEphVTFCTUVkRFUzRkhVMGxpTTBSUlJVSkJVVlZCUVRSSlEwUjNRWGRuWjBsTFFXOUpRMEZSUkZwNE9WWkdWSEZJWVZWQlZsUkZXR2cxYzB3MVIzWnZjSFpDUjFNMGF6VmtaMllyZEdKQ1JsQjFNMjg1S3k4dlNtTXZTa1JIVXpaU2F6WkRNMlpqTmtzdmVXaG1VRUpEVVhkRVRYZGxZa2MyUVZwQmJWVXpURGhZTVdWc2JIWkJSVzVaUWpKd2QxTmhkbWRpY0hGTE1rUmFiM2RVZEdsaU0waFlVMEZISzFkQlR6SlFjMDQwWVZsVVNIRjBUa3M0WjFweWJGVkZObGc1WkcxNmFGUlNRVWx4YzB4NU1YWkRRWFp1VjB4cFFqVXpkU3N2ZFc1Sk1rNDFTV3BtVjFSWWRTdHZNVTk0YjFVck9YWm5lSGcxVldkNmQyWmFWVTVpYVV4a1dVSmFRMU0zTlVwR2RXOUJWRlZaZWtSUmJtY3ZVM2t2TlhNdlEzWXdabFZ5U2xSMU1VbzJZM1V5VURKM0x6VjVNbVJIUjB3ME1sQlJSV1ZuWVhsWmJTODJXVGhCWWpSb2N6RkZVMWtyT1V4RFNtZFRNbkkyUVROWWJGTkliV3hPYm1OVmQxVjNWbVJNVGxCMU1HeDJORUZyVFV0dlJITXdkSEJPV20xbE1tTjJOR2Q0YTA1dFZGazVjalYwYUVkT1RIcENjVkZqUzFOb05WZFVLMDFSVEdWMFRtbGxja28wYVhCUlVYZ3hTSGhOTkVaUlNYQnJibmN3U1hvNFpUZFJaaXRNVDJGTU5rWkJZbEYyV0RWRVVERjJRbWx4VVhKMlRFeEhlaXNyTURSR1owbFZlREpaVmxWTVpXRjBNRGRPTUdSbGRXaHJieXRSVGpaM1MyZ3lNRGg2Wm1wd1FWVktURFJWV0VObU1GcGhVMjlTUm1Gd2VDdFNVRkZDWmpsT2RHcFRlRWMzVmt0TkszTlFOalpwY0ZoUU5XbDRkRmhDYTNGT09FVllZblZPVlVkWGEyRkhjMDFNVm1vNFZIRnNaM3A2ZGpGd1lYUmxiRWxIZUZsSFVIVjZlak16Y3k5NFQwOW5URGR6TjBnM1MydE5iREJ2ZDJaRGNWWkdURVZZUzFSak9FRlBTR2hvTkZadE5pdGpkVXBZUW5oU1UyRkpaamRWV1ZoTGJraG9ZVlF3U3pWck0zWnVTSG9yTDBSSVkxaElXR28xVXpkUFJuVkNWa295V2l0UE1XRlRNemRvWXlzM1pYcGxaV0ZSU1VSQlVVRkNielJKUWxCVVEwTkJWR3QzUkVGWlJGWlNNRlJCVVVndlFrRkpkMEZFUVdaQ1owNVdTRk5OUlVkRVFWZG5RbEZUVXpBelJXa3ZTVmN3WjNSNmFWSkNTM2hVTUVVeU9HeERkbFJDYzBKblozSkNaMFZHUWxGalFrRlJVbWROUmpSM1RtZFpTVXQzV1VKQ1VWVklUVUZMUjB0dGFEQmtTRUUyVEhrNWQyRXlhM1ZhUjJ4dVlWaFNiR0pJVW5wTWJWWjZUREJTU2xJd2JGVlNWWGhWVlRCR1JWWnJZM2hNYlU1NVpFUkJhMEpuWjNKQ1owVkdRbEZqZDBGWldWbGhTRkl3WTBSdmRrd3lPV3BqTTBGMVdrZHNibUZZVW14aVNGSjZURzFXZWsxQk9FZERVM05IUVZGVlJrSjZRVUpDVVZGRFFsRkJkMGhSV1VSV1VqQnNRa0paZDBaQldVbExkMWxDUWxGVlNFRjNTVWREUTNOSFFWRlZSa0ozVFVWTlJITkhRVEZWWkVoM1VUQk5SRWwzVFV0QmRXOURlVWRMYldnd1pFaEJOa3g1T1dwamJYZDFZMGQwY0V4dFVuQmFNbXd3V2xkNE1HTjVOV3hqZVRsRlZrWk9RbHBJV2tSUlZXTjRURzFPZVdKRVFXUkNaMDVXU0ZFMFJVWm5VVlZLUkhaVGRYSklSR1o0VGl0T2FXODVURkJHUWtwclVrTk1iemgzUkdkWlJGWlNNRkJCVVVndlFrRlJSRUZuWWtGTlFUQkhRMU54UjFOSllqTkVVVVZDUkZGVlFVRTBTVUpCVVVGYVJEbE5XVlpMWlc4M1RETnpia2Q2VEZCR1REWnBXSE5oWlVWT1VVUk5iMUJtU1hCT1NHTXZNM0pNUlZkWVlrTjNSek5EUTNoemJGVnFVbWt3Y0cxSlVrRjRUMng2TDFSUE1uYzFNRms1V0d0SGFuVTRkSGg1ZEVOeVRqVXlaM3BSYjBkNmRrWktZWEEwUjBRcll6Vk5ORlozVVdZMVoyaEVlVkZHV1ZScFUxcEJNVlI2YVVsTGJqaExValZCWm10a2VXUkRSVWxRVWpFNFRqbDVjRVF6ZUZFMVNVMDVhVTk0ZEdwR1FXVnVVMm94V0hkWFQyRTBiSGhVVVVSdlJERmhOaTlIY1ZOa1RFMTJZMkV5U2xsMmNURnBOWEZTZFM5bGNqUjJUbEZZYTA1VGVtbGFUSEZ2VlVkc2NHTm5jMlZ0TVRSdlYzTlRaRFpoWW14YVpreE1iR1F2VW5SRmRYUkhPVWhhYVN0a1JXNXVaMjFDVXpOWE1pOVZNRXgxWm1aMFVEWkhNbmRGWVZOcGQwVlBaMUZuVUdSRWRXdG1MMWxWYjNGd2VGWTFhM0ZxUm5Kak4wdEtkREJ4Vm1wNU9IbE1URk5oUlNKZExDSnphV2RVSWpvaU1qQXlOQzB3TmkweE1GUXdPVG95T1RveE0xb2lMQ0pqY21sMElqcGJJbk5wWjFRaVhYMC5leUp6ZFdJaU9pSmthV1E2YTJWNU9ucEVibUZsY0dKUmEweHVlWGRZTkVkSWMyNXdWSFZIVVd0Q1NIUktORlZ1UjAwNU4zUnpOMWgxVFRJM00wd3hhV2dpTENKdVltWWlPakUzTVRjME16Z3dNRE1zSW1semN5STZJbVJwWkRwbGJITnBPbFpCVkVWVExVSTJNRFkwTlRrd01DSXNJbVY0Y0NJNk1UY3lNREF6TURBd015d2lhV0YwSWpveE56RTNORE00TURBekxDSjJZeUk2ZXlKQVkyOXVkR1Y0ZENJNld5Sm9kSFJ3Y3pvdkwzZDNkeTUzTXk1dmNtY3Zibk12WTNKbFpHVnVkR2xoYkhNdmRqSWlMQ0pvZEhSd2N6b3ZMM2QzZHk1bGRtbGtaVzVqWld4bFpHZGxjaTVsZFM4eU1ESXlMMk55WldSbGJuUnBZV3h6TDJWdGNHeHZlV1ZsTDNZeElsMHNJbWxrSWpvaU9HTTNZVFl5TVRNdE5UUTBaQzAwTlRCa0xUaGxNMlF0WWpReFptRTVNREE1TVRrNElpd2lkSGx3WlNJNld5SldaWEpwWm1saFlteGxRM0psWkdWdWRHbGhiQ0lzSWt4RlFWSkRjbVZrWlc1MGFXRnNSVzF3Ykc5NVpXVWlYU3dpYVhOemRXVnlJanA3SW1sa0lqb2laR2xrT21Wc2MyazZWa0ZVUlZNdFFqWXdOalExT1RBd0luMHNJbWx6YzNWaGJtTmxSR0YwWlNJNklqSXdNalF0TURVdE1UTWdNRFU2TWpBNk16TXVOakV5TVRnNE56azNJQ3N3TURBd0lGVlVReUlzSW5aaGJHbGtSbkp2YlNJNklqSXdNalF0TURVdE1UTWdNRFU2TWpBNk16TXVOakV5TVRnNE56azNJQ3N3TURBd0lGVlVReUlzSW1WNGNHbHlZWFJwYjI1RVlYUmxJam9pTWpBeU5TMHdOUzB4TXlBd05Ub3lNRG96TXk0Mk1USXhPRGczT1RjZ0t6QXdNREFnVlZSRElpd2lZM0psWkdWdWRHbGhiRk4xWW1wbFkzUWlPbnNpYldGdVpHRjBaU0k2ZXlKcFpDSTZJamRpWmpVMVpESmxMVFV5TkRjdE5EY3hOQzA1TVdReExUaGxNbVk0WTJJM016QmtNU0lzSW14cFptVmZjM0JoYmlJNmV5SmxibVJmWkdGMFpWOTBhVzFsSWpvaU1qQXlOQzB3TmkweU9WUXdOem8wTnpvek9DNDFPVFl4TkRVME5UbGFJaXdpYzNSaGNuUmZaR0YwWlY5MGFXMWxJam9pTWpBeU5DMHdOUzB6TUZRd056bzBOem96T0M0MU9UWXhORFUwTlRsYUluMHNJbTFoYm1SaGRHVmxJanA3SW1sa0lqb2laR2xrT210bGVUcDZSRzVoWlhCaVVXdE1ibmwzV0RSSFNITnVjRlIxUjFGclFraDBTalJWYmtkTk9UZDBjemRZZFUweU56Tk1NV2xvSWl3aVpXMWhhV3dpT2lKeWRXSmxiaTV0YjJSaGJXbHZRR2x1TWk1bGN5SXNJbVpwY25OMFgyNWhiV1VpT2lKU2RXSmxiaUlzSW14aGMzUmZibUZ0WlNJNklrMXZaR0Z0YVc4aUxDSnRiMkpwYkdWZmNHaHZibVVpT2lJck16UWdOams1T1RrNU9UazVJbjBzSW0xaGJtUmhkRzl5SWpwN0ltTnZiVzF2Yms1aGJXVWlPaUpKVGpJaUxDSmpiM1Z1ZEhKNUlqb2lSVk1pTENKbGJXRnBiRUZrWkhKbGMzTWlPaUp5Y21ob1FHbHVNaTVsY3lJc0ltOXlaMkZ1YVhwaGRHbHZiaUk2SWtsT01pd2dTVzVuWlc1cFpYTERyV0VnWkdVZ2JHRWdTVzVtYjNKdFlXTnB3N051TENCVExrd3VJaXdpYjNKbllXNXBlbUYwYVc5dVNXUmxiblJwWm1sbGNpSTZJbFpCVkVWVExVSTJNRFkwTlRrd01DSXNJbk5sY21saGJFNTFiV0psY2lJNklrSTJNRFkwTlRrd01DSjlMQ0p3YjNkbGNpSTZXM3NpYVdRaU9pSm1NR1F4TXpObVpTMHlZakpsTFRSbVpXRXRPV1ExT0MwNE5tSXlZelJtWVdGaE9Ua2lMQ0owYldaZllXTjBhVzl1SWpvaVJYaGxZM1YwWlNJc0luUnRabDltZFc1amRHbHZiaUk2SWs5dVltOWhjbVJwYm1jaUxDSjBiV1pmZEhsd1pTSTZJa1J2YldGcGJpSjlMSHNpYVdRaU9pSmhPRFJtT0Rsa1lTMWlZV0kyTFRSbVpEUXRPR0k0WVMwNU5EaGlNRGxsTkRrd09ERWlMQ0owYldaZllXTjBhVzl1SWpwYklrOXdaWEpoZEc5eUlpd2lUV0Z5YTJWMGNHeGhZMlVpWFN3aWRHMW1YMloxYm1OMGFXOXVJam9pUkc5dFpWQnNZWFJtYjNKdElpd2lkRzFtWDNSNWNHVWlPaUpFYjIxaGFXNGlmVjBzSW5OcFoyNWxjaUk2ZXlKamIyMXRiMjVPWVcxbElqb2lTVTR5SWl3aVkyOTFiblJ5ZVNJNklrVlRJaXdpWlcxaGFXeEJaR1J5WlhOeklqb2ljbkpvYUVCcGJqSXVaWE1pTENKdmNtZGhibWw2WVhScGIyNGlPaUpKVGpJc0lFbHVaMlZ1YVdWeXc2MWhJR1JsSUd4aElFbHVabTl5YldGamFjT3piaXdnVXk1TUxpSXNJbTl5WjJGdWFYcGhkR2x2Ymtsa1pXNTBhV1pwWlhJaU9pSldRVlJGVXkxQ05qQTJORFU1TURBaUxDSnpaWEpwWVd4T2RXMWlaWElpT2lKQ05qQTJORFU1TURBaWZYMTlmU3dpYW5ScElqb2lOelExT1RNNVl6QXROR1JpWmkwME5URmlMV0V5TVRNdE16SmtaalJtTURkak1qWTBJbjAuRDhMTUFXeG5KS3c5OWZpd2pyUHZqSEpxUUZzNS1kZTQyWXJ2aS1Qa0c3QUozVVVMMm0zVmhtYjczMnVmVlMtVDh4SHFyUktZTHJGcVRVaWxiak9UaTh5NDhIZ1p2RkxSc0tpdm5SdnI2R2IyM0Q5eDJScVRJSEtXUjVjZUxjZnp3WFlsM3VsT0tKRDVEcTl4NFpJNktMMERJaGx1M29nOXRZajYyaE9mSmpjcGd4UlVZMktUeWVLOVBMRklOLUJ2NFJXQTBvdEQ2QW5ESXY1SjNXSDlaZ0M2TFdiXy1XZm9CRlJGWVlWc1BYbmt6Ml9lN3dkMnlsVGg2cTVtVUZyOFJqSjVlWmFNRHdhMG5uNVFhUVpSeE9sTVBRc2o4ekFIaFRWWnVhUnpEWXFCOUFEV2RtVEtxYnZaYTFwQ2V3eVI1QkNfLURNSkZxR0dJSEc5WUJIVjY2NVF6LXkweldFal95VXJnVHlJRnY5UEpTN2hkWVh1ZnZJVnVLNmZHZTVIRzJrMUhxSWlFbmhKaEFLQWtza1FZYnBTQnBjUVVzQ3dKYmFCbnlWNnBJMnhZdjlyM1NKSF82NG81eFQzYXVtbmtjcDNrdkZxeHowZThkSUg2RkpidjhQZkV3RXdaWVhMeHozR1pab3BUSWJpRndZYzdidlJVOW5ZbTk2b2tqOGF1UGhmX2NhbWdoRzU4VUlzRVhnLU5yLWJ4aS1NM3BLNU5GLXd3TjZEWHlITjVlUUFIbDB2cTBQS3FVYUliOGxJVzRDbnNfNHRCcUhwcVloRFNMY0NmN09Kb2NnVnJrNjYwUzBvazE4cjN5dTRTMzlkNXhWRUJPMXk3bzVlVUNOWkRqbGx2d2gwa2prZ202M0NJei1FcW9TbnhvYlRPNzltM29SR0NoM2wzN28iXX0sImV4cCI6MTcxODAxNTYzNiwiaWF0IjoxNzE4MDE1NDU2LCJqdGkiOiJ1cm46dXVpZDo0MWFjYWRhMy02N2I0LTQ5NGUtYTZlMy1lMDk2NjQ0OWYyNWQifQ.0MmyF0EIGL-9DA1I1Q6qUcCFFEKX7LnXy6s7tkpWtqynzGuvm_4SyAyQFpZrGHwhVSvCBhLkb5UPGEPE_sDgJg"
}
